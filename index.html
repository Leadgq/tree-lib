<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite App</title>
</head>

<body>
  <div id="app">
    <!-- <input type="text" id="input"> -->
    <div class="test">测试机哦sss</div>
    <button id="copy">复制</button>
  </div>
  <!-- <script type="module" src="/main.js"></script> -->
  <script type="module">
    import {
      findPath,
      getObjectEntries,
      isAbleMap,
      getMapSize,
      genderMapAndSetMapKey,
      parseLocationUrlParams,
      toThousands,
      findChildrenListByFn,
      hidePhone,
      sleep,
      findTreeByTreeData,
      findCurrentNodeBrotherNode,
      isChildNode,
      isRootNode,
      after,
      isParentNode,
      objIsContainsKey,
      initBroadcastChannel,
      uniqueArray,
      fuzzySearch,
      isLeafNode,
      treeFuzzySearch,
      Clipboard,
      createOverload,
      breadthFirstSearch,
      flattenTreeByPostOrder,
      postOrderFirstSearch,
      genderRandom,
      // pickObjectArray,
      pickObject,
      omitObject,
    } from "/main.js"


    // console.log(genderRandom(1, 5));

    const treeData = [
      {
        id: "1",
        name: '部门1',
        children: [
          {
            id: "1-1",
            name: '部门1-1',
            children: [
              {
                id: "1-1-1",
                name: '部门1-1-1',
                children: [
                  {
                    id: "1-1-1-1",
                    name: '部门1-1-1-1',
                    children: [
                      {
                        id: "1-1-1-1-1",
                        name: '部门1-1-1-1-1',
                        children: []
                      }
                    ]
                  },
                  {
                    id: "1-1-1-2",
                    name: '部门1-1-1-2',
                    children: [
                      {
                        id: "1-1-1-1-2",
                        name: '部门1-1-1-1-2',
                        children: []
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            id: "1-2",
            name: '部门1-2',
            children: [
              {
                id: "1-2-1",
                name: '部门1-2-1',
                children: undefined,
              }
            ]
          },
        ]
      },
      {
        id: '2',
        name: '部门2',
        children: []
      }
    ]
    // breadthFirstSearch(treeData, (node) => {
    //   console.log(node);
    // })
    // postOrderFirstSearch(treeData, (node) => {
    //   console.log(node);
    // })
    // console.log(flattenTreeByPostOrder(treeData));
    // const node = findTreeByTreeData([], "id", '1-2-1');
    // console.log(node);
    // console.log(isChildNode(treeData, '1-1-1-1-2', 'id'));
    // console.log(isRootNode(treeData, {id:'1-2'}, 'id' ));

    // console.log(isLeafNode(treeData, node, 'id'));

    // console.log(findCurrentNodeBrotherNode(treeData, '1', 'id'));



    // const cityData = [
    //   {
    //     id: 1,
    //     label: '北京',
    //     children: [
    //       {
    //         id: 2,
    //         label: '北京市',
    //         children: [
    //           {
    //             id: 3,
    //             label: '东城区',
    //             children: [
    //               {
    //                 id: 4,
    //                 label: '东城街道'
    //               }
    //             ]
    //           }
    //         ]
    //       }
    //     ]
    //   },
    //   {
    //     id: 5,
    //     label: '大连市',
    //     children: [
    //       {
    //         id: 6,
    //         label: '甘井子区',
    //         children: [
    //           {
    //             id: 7,
    //             label: '甘井子街道',
    //             children: [
    //               {
    //                 id: 8,
    //                 label: '甘井子小城区'
    //               }
    //             ]
    //           }
    //         ]
    //       }
    //     ]
    //   },
    //   {
    //     id: 5,
    //     label: '大连市',
    //     children: [
    //       {
    //         id: 6,
    //         label: '甘井子区',
    //         children: [
    //           {
    //             id: 7,
    //             label: '甘井子小城区',
    //             children: [
    //               {
    //                 id: 8,
    //                 label: '甘井子街道'
    //               }
    //             ]
    //           }
    //         ]
    //       }
    //     ]
    //   }
    // ]

    // console.log(treeFuzzySearch(cityData, '街', 'label'));

    // console.log('节点', findPath(treeData, '1-2-1', 'id', true, true));
    // console.log('兄弟', findCurrentNodeBrotherNode(treeData, '1-1-1-1', 'id'));
    // console.log('子节点', isChildNode(treeData, node, 'label'));
    // console.log('父节点', isParentNode(node));
    // let list = [
    //   {
    //     name: '部门1',
    //     age: 33,
    //     id: 3
    //   },
    //   {
    //     name: '部门2',
    //     age: 33,
    //     id: 4
    //   }
    // ]
    // console.log(genderMapAndSetMapKey(list, 'id'));
    // setTimeout(() => {
    //   console.log(genderMapAndSetMapKey(list, 'id'));
    // }, 1000)
    // console.log(parseLocationUrlParams());
    // console.log(toThousands('12345678903123123'));

    // const list = ['1-2', '1-1']
    // console.log(findChildrenListByFn(treeData, (item) => {
    //   return list.includes(item.id)
    // }));

    // // console.log(hidePhone(12345678901));
    // async function sleepTest() {
    //   const { promises, cancel } = sleep(3000)
    //   // cancel();
    //   const message = await promises;
    //   console.log(message);
    // }
    // sleepTest();

    // let saves = ['profile', 'settings', 'profile', 'settings'];

    // let done = after(() => {
    //   console.log('done');
    // });

    // saves.forEach(() => {
    //   console.log('循环');
    //   done();
    // })
    // console.log(nowTimeStamp());
    // console.log(futureTimestamp(1, 'day'));
    // const futureTimestampResult = futureTimestamp(1, 'minute');
    // console.log(futureTimestampResult);
    // console.log(differenceTimestamp(10, 'minute'));
    // const object = {
    //   name: '测手机'
    // }
    // console.log(objIsContainsKey(object, 'name'));

    // const bor = initBroadcastChannel('message')
    // bor.sendMessage('change', '我是发送的消息')


    // setTimeout(() => {
    //   bor.receiveMessage((data) => {
    //     console.log(data);
    //   })
    // }, 1000)

    const data = [
      {
        name: 'gq',
        age: 22,
        id: 2
      },
      {
        name: '李四',
        age: 22,
        id: 1
      },
      {
        name: '王昭君',
        age: 3333333333,
        id: 7
      },
      {
        name: '李四s',
        age: 22,
        id: 12
      },
      {
        name: '王五',
        age: 365,
        id: 6
      },
      {
        name: '王昭君',
        age: 34,
        id: 7
      }
    ]
    // console.log(uniqueArray(data, (cur, next) => {
    //   return cur.id === next.id
    // }));
    // console.log(fuzzySearch(data, '3', 'age'));

    // async function test() {
    //   const test = document.querySelector('.test');
    //   const value = test.innerText;
    //   const ClipboardInstance = new Clipboard();
    //   const res = await ClipboardInstance.copyTextByClipboard(value);
    //   const text = await ClipboardInstance.readTextByClipboard();
    //   console.log(text);
    // }
    // const copyButton = document.getElementById('copy');
    // copyButton.addEventListener('click', test)

    // const testFn = createOverload();
    // const strFn = (...args) => {
    //   console.log(args);
    // }
    // const strFn2 = (page1, page2, page3) => {

    //   console.log(page1, page2, page3);
    // }
    // testFn.addImpl('string', strFn)
    // testFn.addImpl('string', 'string', strFn)
    // testFn.addImpl('string', 'string', 'string', strFn2)
    // testFn('1', '2', '3')

    let obj = {
      a: 1,
      b: 2,
      c: 3,
      children: [1, 2, 3, 4, 5]
    }
    // console.log(omitObject(obj,['b','c','d']));


    console.log(omitObject(obj, (k, v) => {
      return k === 'a' || v === 2 || Array.isArray(v)
    }));
    // // console.log(pickObject(obj, ['a', 'b']));
    // // pickObject(obj, ['a', 'b'])
    // const r = pickObject(obj, (k, v) => {
    //   return v === 3
    // })
    // console.log(r);
  </script>
</body>

</html>